import{a as e,j as a}from"./index-bdd35117.js";import{r as i}from"./vendor-114faf07.js";import{c as t,L as l}from"./router-1eef6c24.js";import{X as s,P as n,E as o,D as c}from"./icons-2d1db975.js";import{m as r}from"./animations-38072708.js";const d=({isOpen:i,onClose:t,videoKey:l})=>i?e("div",{className:"modal-overlay",onClick:t,children:a("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[e("button",{className:"modal-close",onClick:t,children:e(s,{size:24})}),e("div",{className:"video-container",children:e("iframe",{width:"100%",height:"400",src:`https://www.youtube.com/embed/${l}?autoplay=1`,title:"Movie Trailer",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}):null,m=()=>{var s,m;const{id:h}=t(),[v,p]=i.useState(null),[u,N]=i.useState([]),[g,f]=i.useState([]),[b,y]=i.useState("US"),[w,_]=i.useState(!1),[k,S]=i.useState(!0),$=[{code:"US",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"ES",name:"Spanish",flag:"ðŸ‡ªðŸ‡¸"},{code:"IT",name:"Italian",flag:"ðŸ‡®ðŸ‡¹"},{code:"FR",name:"French",flag:"ðŸ‡«ðŸ‡·"},{code:"DE",name:"German",flag:"ðŸ‡©ðŸ‡ª"}];i.useEffect(()=>{h&&(j(),C(),z())},[h]);const j=async()=>{try{const e="b7cd3340a794e5a2f35e3abb820b497f",a=await fetch(`https://api.themoviedb.org/3/movie/${h}?api_key=${e}`),i=await a.json();p(i)}catch(e){}finally{S(!1)}},C=async()=>{try{const e="b7cd3340a794e5a2f35e3abb820b497f",a=await fetch(`https://api.themoviedb.org/3/movie/${h}/videos?api_key=${e}`),i=await a.json();N(i.results||[])}catch(e){}},z=async()=>{var e;try{const a="b7cd3340a794e5a2f35e3abb820b497f",i=await fetch(`https://api.themoviedb.org/3/movie/${h}/similar?api_key=${a}`),t=await i.json();f((null==(e=t.results)?void 0:e.slice(0,6))||[])}catch(a){}},E=()=>{alert("Complete the offer to download this movie!")};if(k)return e("div",{className:"loading",children:"Loading movie details..."});if(!v)return a("div",{className:"error",children:[e("h3",{children:"Movie Not Found"}),e("p",{children:"The requested movie could not be found."})]});const Q=v.backdrop_path?`https://image.tmdb.org/t/p/w1920_and_h800_multi_faces${v.backdrop_path}`:null,D=v.poster_path?`https://image.tmdb.org/t/p/w600_and_h900_bestv2${v.poster_path}`:"https://via.placeholder.com/300x450/333/fff?text=No+Image";return a("div",{className:"movie-detail",children:[a("div",{className:"movie-hero",children:[Q&&e("img",{src:Q,alt:v.title,className:"movie-backdrop"}),e("div",{className:"movie-content",children:e("div",{className:"container",children:a(r.div,{className:"movie-details",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[e("div",{className:"movie-poster-large",children:e("img",{src:D,alt:v.title})}),a("div",{className:"movie-info-large",children:[a("h1",{className:"movie-title-large",children:["Watch ",v.title," Online"]}),a("div",{className:"movie-meta mb-3",children:[a("div",{className:"rating",children:[e("span",{className:"star",children:"â˜…"}),e("span",{className:"star",children:"â˜…"}),e("span",{className:"star",children:"â˜…"}),e("span",{className:"star",children:"â˜…"}),e("span",{className:"star",children:"â˜…"})]}),e("span",{className:"availability",children:"Available Now"}),e("span",{className:"availability",style:{marginLeft:"1rem"},children:"FREE"})]}),a("div",{className:"language-selector",children:[e("h3",{className:"language-title",children:"Select your Language:"}),e("div",{className:"language-flags",children:$.map(a=>e("button",{className:"flag-btn "+(b===a.code?"active":""),onClick:()=>y(a.code),title:a.name,children:e("span",{style:{fontSize:"2rem"},children:a.flag})},a.code))})]}),e("p",{className:"movie-description",children:v.overview||"No description available for this movie."}),a("div",{className:"action-buttons",children:[a(l,{to:`/watch/${v.id}`,className:"btn-watch",children:[e(n,{size:20}),"Watch movie online - ",null==(s=$.find(e=>e.code===b))?void 0:s.name]}),a("button",{className:"btn-trailer",onClick:()=>_(!0),children:[e(o,{size:20}),"Watch Trailer"]})]}),a("div",{className:"download-section",children:[a("h3",{className:"download-title",children:["Download Links - ",null==(m=$.find(e=>e.code===b))?void 0:m.name," Language"]}),e("div",{className:"download-grid",children:["SD Quality","HQ Quality","HD Quality","Full HD Quality","4K Quality","8K Quality"].map((i,t)=>{var l;return a("button",{className:"download-btn",onClick:E,children:[e(c,{size:16}),i," - ",null==(l=$.find(e=>e.code===b))?void 0:l.name]},t)})})]})]})]})})})]}),g.length>0&&e("section",{className:"content-section",children:a("div",{className:"container",children:[e("h2",{className:"section-title",children:"Related Movies"}),e("div",{className:"movie-grid",children:g.map(i=>a(r.div,{className:"movie-card",whileHover:{y:-8,scale:1.02},transition:{duration:.3},children:[e("div",{className:"movie-poster",children:e("img",{src:`https://image.tmdb.org/t/p/w220_and_h330_face${i.poster_path}`,alt:i.title,loading:"lazy"})}),a("div",{className:"movie-info",children:[e("h3",{className:"movie-title",children:i.title.length>20?i.title.substring(0,20)+"...":i.title}),a(l,{to:`/movie/${i.id}`,className:"btn btn-primary",children:[e(o,{size:16})," View"]})]})]},i.id))})]})}),e(d,{isOpen:w,onClose:()=>_(!1),videoKey:(()=>{var e;const a=u.find(e=>"Trailer"===e.type&&"YouTube"===e.site);return(null==a?void 0:a.key)||(null==(e=u[0])?void 0:e.key)})()})]})};export{m as default};
