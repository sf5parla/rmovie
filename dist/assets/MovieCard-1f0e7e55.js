import{j as e,a as t}from"./index-bdd35117.js";import{r as a}from"./vendor-114faf07.js";import{L as s}from"./router-1eef6c24.js";import{P as r,E as i}from"./icons-2d1db975.js";const o=({src:s,alt:r,width:i,height:o,className:n="",placeholder:l="https://via.placeholder.com/300x450/333/fff?text=Loading...",onLoad:c,onError:d})=>{const[m,h]=a.useState(!1),[p,v]=a.useState(!1),[g,u]=a.useState(!1),f=a.useRef(null);a.useEffect(()=>{const e=new IntersectionObserver(([t])=>{t.isIntersecting&&(v(!0),e.disconnect())},{threshold:.1});return f.current&&e.observe(f.current),()=>e.disconnect()},[]);return e("div",{ref:f,className:`optimized-image-container ${n}`,style:{width:i,height:o,backgroundColor:"#333",position:"relative",overflow:"hidden"},children:[!m&&!g&&t("div",{className:"image-placeholder",style:{width:"100%",height:"100%",backgroundColor:"#333",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"12px"},children:p?"Loading...":""}),p&&!g&&t("img",{src:(N=s,N.includes("tmdb.org")?N.replace("/w500","/w342"):N),alt:r,onLoad:()=>{h(!0),null==c||c()},onError:()=>{u(!0),null==d||d()},style:{width:"100%",height:"100%",objectFit:"cover",opacity:m?1:0,transition:"opacity 0.3s ease"}}),g&&t("div",{className:"image-error",style:{width:"100%",height:"100%",backgroundColor:"#333",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"12px"},children:"Failed to load image"})]});var N},n=({movie:a})=>{const n=a.title.length>20?a.title.substring(0,20)+"...":a.title,l=a.poster_path?`https://image.tmdb.org/t/p/w500${a.poster_path}`:"https://via.placeholder.com/300x450/333/fff?text=No+Image";return e("div",{className:"movie-card",style:{transition:"transform 0.3s ease, box-shadow 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-8px) scale(1.02)",e.currentTarget.style.boxShadow="0 16px 32px rgba(0,0,0,0.3)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1)",e.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.2)"},children:[e("div",{className:"movie-poster",children:[t(o,{src:l,alt:a.title,width:"100%",height:"100%"}),t("div",{className:"movie-overlay",children:t("div",{className:"movie-actions",children:e(s,{to:`/movie/${a.id}`,className:"btn btn-primary",children:[t(r,{size:16})," Watch Now"]})})})]}),e("div",{className:"movie-info",children:[t("h3",{className:"movie-title",children:n}),e("div",{className:"movie-meta",children:[e("div",{className:"rating",children:[t("span",{className:"star",children:"★"}),t("span",{className:"star",children:"★"}),t("span",{className:"star",children:"★"}),t("span",{className:"star",children:"★"}),t("span",{className:"star",children:"★"})]}),t("span",{className:"availability",children:"Free"})]}),t("div",{className:"movie-actions",children:e(s,{to:`/movie/${a.id}`,className:"btn btn-primary",children:[t(i,{size:16})," View Details"]})})]})]})};export{n as M};
